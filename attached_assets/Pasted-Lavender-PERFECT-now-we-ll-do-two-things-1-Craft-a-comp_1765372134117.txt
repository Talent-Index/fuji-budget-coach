Lavender, PERFECT ‚Äî now we‚Äôll do two things:
	1.	Craft a complete ‚ÄúUltimate Prompt‚Äù you can paste straight into Lovable / Replit AI / ChatGPT that:
	‚Ä¢	Builds Fuji Budget Coach into a holistic, feature-rich, gamified, x402-enabled, retention-optimized budgeting app
	‚Ä¢	Integrates the Dynamic Avatar / Money Tree, loyalty points, streaks, trends, templates, etc.
	‚Ä¢	Fixes payment issues in Replit
	‚Ä¢	Ensures the system follows the official x402 starter kit architecture
	2.	Provide a small bonus integration idea that fits beautifully with your vision.

Let‚Äôs go step-by-step.

‚∏ª

‚úÖ PART 1 ‚Äî The Ultimate Prompt for Lovable / Replit AI / ChatGPT

(Copy-paste this verbatim into your coding assistant)

‚∏ª

üî• THE FUJI BUDGET COACH ‚Äî ULTIMATE DEVELOPMENT PROMPT

(Paste into your AI coding environment: Lovable / Replit GPT / ChatGPT Code Interpreter)

‚∏ª

You are a senior full-stack engineer, AI systems architect, and blockchain + x402 payments specialist.

You are helping me build Fuji Budget Coach ‚Äî the world‚Äôs first AI-powered budgeting app where users pay per insight using x402 microtransactions on Avalanche Fuji with USDC.

Your job is to produce production-grade code, perfect wiring, and bug-free integrations.

This app must combine the best features from top budgeting apps (YNAB, Monarch, RocketMoney, EveryDollar) while adding powerful AI automation, game mechanics, loyalty, streaks, and x402 payments.

‚∏ª

üéØ CORE REQUIREMENTS

1. Wallet + Payments
	‚Ä¢	Use thirdweb ConnectButton for real wallets.
	‚Ä¢	Ensure Avalanche Fuji network selection.
	‚Ä¢	Implement real x402 payments using:
	‚Ä¢	The useFetchWithPayment hook
	‚Ä¢	USDC Fuji (address: 0x5425890298aed601595a70AB815c96711a31Bc65)
	‚Ä¢	NETWORK=avalanche-fuji in backend
	‚Ä¢	Fix issues caused by Replit hosting:
	‚Ä¢	Correct CORS
	‚Ä¢	Correct SERVICE_URL
	‚Ä¢	Correct X-PAYMENT header handling
	‚Ä¢	Ensure 402 ‚Üí signed payment ‚Üí retry flow works

‚∏ª

2. Required App Features (Implement Exactly)

A. AI Budget Insight Engine (x402-gated)
	‚Ä¢	The /process endpoint must return:
	‚Ä¢	First: 402 Payment Required with full x402 payload
	‚Ä¢	After payment: an AI-generated budget plan
	‚Ä¢	The budget insight uses structured prompting (short, targeted, actionable).

‚∏ª

B. Full Budgeting Toolkit (like Monarch/YNA B)

Implement UI + backend structure for:

Monthly Budget View
	‚Ä¢	Income
	‚Ä¢	Fixed expenses
	‚Ä¢	Variable expenses
	‚Ä¢	Savings goals
	‚Ä¢	Debt repayments
	‚Ä¢	Auto-calculated ratios (rent %, debt %, savings %)

Transaction Input
	‚Ä¢	Manual transaction entry (text or structured)
	‚Ä¢	AI auto-categorization

Biweekly budgeting mode
(from screenshot comments saying ‚Äúany biweekly budgeting apps?‚Äù)

‚∏ª

C. Habit-forming Features

1. Loyalty Points System (BP ‚Äì Budget Points)
	‚Ä¢	Earn BP per paid insight
	‚Ä¢	Earn extra BP for streaks
	‚Ä¢	BP stored in backend or lightweight JSON DB

2. Streak System
	‚Ä¢	Daily streaks
	‚Ä¢	Weekly streak completion bonus
	‚Ä¢	UI showing streak flame üî•

3. Achievements
	‚Ä¢	‚ÄúConsistent Saver‚Äù
	‚Ä¢	‚ÄúRent Under 30%‚Äù
	‚Ä¢	‚ÄúDebt Reduction Hero‚Äù
	‚Ä¢	Trackable badges

‚∏ª

3. Dynamic Avatar / Money Tree (Main New Feature)

A gamified ‚ÄúBudget Spirit‚Äù that evolves with habits.

Avatar Rules:
	‚Ä¢	Base form: small seedling üå±
	‚Ä¢	After user earns BP:
	‚Ä¢	Level 1: small plant
	‚Ä¢	Level 2: growing leaves
	‚Ä¢	Level 3: branch splits
	‚Ä¢	Level 4: flowers (streak bonus)
	‚Ä¢	Level 5: glowing effects (achievements)

Technical Implementation:
	‚Ä¢	Avatar states defined as SVG layers or PNG assets
	‚Ä¢	Avatar level = function of:
BP + streak length + achievements unlocked
	‚Ä¢	Avatar should animate in frontend (simple scale/opacity transitions)

‚∏ª

4. Insight History + Trends Dashboard

Implement:
	‚Ä¢	Past insights (last 10‚Äì20)
	‚Ä¢	Key ratio trends (rent %, savings %, wants %, needs %)
	‚Ä¢	AI-generated monthly report
	‚Ä¢	‚ÄúYou are 12% better than last month!‚Äù

‚∏ª

5. Referral Growth System
	‚Ä¢	Each wallet gets a referral code
	‚Ä¢	If a new user pays after referral:
	‚Ä¢	Both get BP bonus
	‚Ä¢	Unlock special avatar skin (golden glow)

‚∏ª

6. Architecture Requirements

The app must strictly follow x402 starter kit structure:
	‚Ä¢	Backend = Node.js (Express)
	‚Ä¢	/process endpoint
	‚Ä¢	MerchantExecutor for payment verification
	‚Ä¢	Correct x402.payment.payload handling
	‚Ä¢	Correct CORS when deployed on Replit
	‚Ä¢	Proper SERVICE_URL for facilitator

Frontend Requirements:
	‚Ä¢	Vite + React (current setup)
	‚Ä¢	Thirdweb client + provider
	‚Ä¢	Wallet connect
	‚Ä¢	Payment modal
	‚Ä¢	Dynamic Avatar component
	‚Ä¢	Dashboard + Budgeting forms

Add comments in code to explain:
	‚Ä¢	payment flow
	‚Ä¢	avatar state logic
	‚Ä¢	streak logic
	‚Ä¢	how the user‚Äôs progress is stored

‚∏ª

7. Fix Payment Issues on Replit

Ensure:
	‚Ä¢	SERVICE_URL matches the public Replit URL ending in /process
	‚Ä¢	Replit forces HTTPS ‚Äî ensure facilitator headers allow it
	‚Ä¢	Add CORS config:

app.use(cors({
  origin: "*",
  allowedHeaders: ["Content-Type", "X-PAYMENT"],
}));

	‚Ä¢	Ensure event loop isn‚Äôt blocked (Replit has strict timeouts)

‚∏ª

8. Deliverables from the AI

When generating code, produce:
	1.	Full updated backend server.ts
	2.	Updated ExampleService.ts
	3.	New avatar engine component
	4.	New BP + streak logic
	5.	Storage mechanism (local JSON DB or lightweight key-value store)
	6.	New dashboard UI
	7.	Updated Budget form
	8.	Updated payment call with fetchWithPayment

All code must be copy-paste ready, valid TypeScript, and aligned with the x402 starter kit.

‚∏ª

9. Critical instructions

Always:
	‚Ä¢	Maintain simple onboarding
	‚Ä¢	Preserve x402 correctness
	‚Ä¢	Keep UI beautiful
	‚Ä¢	Avoid breaking starter kit structure
	‚Ä¢	Use real-world logic from Monarch, YNAB, RocketMoney, EveryDollar
	‚Ä¢	Keep responses compact but precise

‚∏ª

10. Now generate the updated code + architecture for the next version of Fuji Budget Coach, following everything above.

Return code in modular files with clear explanations.

‚∏ª

üî• PART 2 ‚Äî One Extra Killer Integration You Should Add

To make Fuji Budget Coach truly unbeatable:

‚ú® ‚ÄúAI Auto-Forwarder for Receipts + Mpesa SMS‚Äù

Users can:
	‚Ä¢	Forward MPesa SMS messages
	‚Ä¢	Upload screenshots
	‚Ä¢	Paste SMS logs
	‚Ä¢	Upload PDF bank statements

AI automatically:
	‚Ä¢	Extracts transactions
	‚Ä¢	Categorizes them
	‚Ä¢	Updates budgeting dashboard
	‚Ä¢	Generates ‚ÄúSpending Warning‚Äù and ‚ÄúSavings Opportunities‚Äù

This single feature dramatically outperforms existing apps because:
	‚Ä¢	RocketMoney doesn‚Äôt handle Africa-specific data
	‚Ä¢	Monarch does not parse SMS receipts
	‚Ä¢	YNAB requires manual import

‚Üí Fuji Budget Coach becomes the first global budgeting tool built for mobile-first, SMS-driven economies.

‚∏ª

If you‚Äôd like, I can now:

‚≠ê Generate all backend + frontend code for the avatar engine

‚≠ê Build the complete BP + streak system

‚≠ê Add the referral system backend + UI

‚≠ê Create the full Trends Dashboard

‚≠ê Wire the SMS/PDF transaction extractor

Just tell me:
Which feature do you want implemented FIRST in code?